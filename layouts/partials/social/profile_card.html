<div id="user_profile_card" class="user_profile card border-0 p-0 p-lg-2 mx-lg-3 lg-rounded d-none">
    <div id="profile_banner" class="card-up" style="background-image: url('/images/waves.jpg');  background-position: center;"></div>
    <div class="avatar mx-auto bg-white">
        <img id="profile_avatar" src="/images/teachers-spiderman.png" class="rounded-circle" style="width: 105px; height: 105px; "/>
    </div>
    <div class="card-body text-center text-nowrap">
        <h5 id="profile_name" class="fw-bold mb-0 text-uppercase">Spyder Academy</h5>
        <p id="profile_handle" class="text-muted">@spyderacademy</p>
        <div id="profile_socials" class="mb-3">
            
        </div>
        <div class="d-flex justify-content-between mb-3">
            <div class="container p-0">
                <div class="row">
                    <h5 class="text-muted mb-0  text-start">STATISTICS</h5>
                </div>
                <div class="row">
                    <div class="col-6 p-0" >
                        <div class="details card  border-0 m-1 lg-rounded text-white" style="background: linear-gradient(90deg, #ffde59, #ff941d);">
                            <p class="p-2 m-0" style="font-size: 0.8em">POSTED TRADES</p>
                            <h4 id="numTrades">-</h4>
                        </div>
                    </div>
                    <div class="col-6 p-0" >
                        <div class="details card  border-0 m-1 lg-rounded text-white" style="background: linear-gradient(90deg, #ffde59, #ff941d);">
                            <p class=" p-2 m-0" style="font-size: 0.8em">FOLLOWERS</p>
                            <h4 id="numFollowers">-</h4>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
        <div class="mb-3">
            <div id="profile_badges_row" class="container p-0 d-none">
                <div class="row">
                    <h5 class="text-muted mb-0 text-start">BADGES</h5>
                </div>
                <div id="profile_badges" class="row bg-light lg-rounded badges justify-content-evenly"></div>
            </div>
        </div>
        <div class="mb-3">
            <div class="container p-0">
                <div class="row">
                    <h5 class="text-muted mb-0 text-start text-nowrap">PERFORMANCE</h5>
                </div>
                <div class="row">
                    <div class="col-4 p-0">
                        <div class="details card  border-0 m-1 lg-rounded text-white" style="background: linear-gradient(90deg, #0cc0df, #ffde59);">
                            <p class="p-2 m-0" style="font-size: 0.8em">WINRATE</p>
                            <h4 id="winRate"></h4>
                        </div>
                    </div>
                    <div class="col-4 p-0">
                        <div class="details card  border-0 m-1 lg-rounded text-white" style="background: linear-gradient(90deg, #004aad, #cb6ce6);">
                            <p class=" p-2 m-0" style="font-size: 0.8em">AVG GAIN</p>
                            <h4 id="avgGain"></h4>
                        </div>
                    </div>
                    <div class="col-4 p-0">
                        <div class="details card  border-0 m-1 lg-rounded text-white" style="background: linear-gradient(90deg, #ffde59, #ff941d);">
                            <p class="p-2 m-0" style="font-size: 0.8em">BAGS</p>
                            <h4 id="profitFactor"></h4>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
        <!-- <p class="text-muted mb-0">Teams</p> -->
        <!-- <h6 class="fw-bold mb-0">SPYDER ACADEMY</h6> -->
    </div>
</div>

<!-- Edit Profile Modal -->
<div id="editProfileModal" class="modal fade" tabindex="-1" aria-labelledby="editProfileModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content glassy-bg">
            <div class="modal-header">
                <h5 class="modal-title fs-3 text-uppercase" id="editProfileModalLabel">Edit Profile</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div id="validationErrors" class="p-2 text-danger mt-2"></div>

                <form id="editProfileForm">
                    <!-- Banner Image with Overlay -->
                    <div class="card-up position-relative text-center">
                        <img id="editProfileBanner" src="/images/waves.jpg" class="" style="border-radius: 15px; height: 220px; width: 100%; object-fit: cover;" alt="Profile Banner">
                        <input type="file" class="d-none" id="profileBannerInput" accept="image/*">
                        <div class="position-absolute top-50 start-50 translate-middle p-3 rounded-circle" style="background-color: rgba(0,0,0,0.5)">
                            <i class="fas fa-camera fs-2 text-white cursor-pointer" onclick="document.getElementById('profileBannerInput').click();"></i>
                        </div>
                    </div>
                    <!-- Avatar Image with Overlay -->
                    <div class="mb-3 text-center position-relative" style="margin-top: -50px;">
                        <div class="position-relative">
                            <img id="editProfileAvatar" src="/images/teachers-spiderman.png" class="rounded-circle" style="width: 105px; height: 105px;" alt="Profile Avatar">
                            <input type="file" class="d-none" id="profileAvatarInput" accept="image/*">
                            <div class="position-absolute top-50 start-50 translate-middle p-3 rounded-circle" style="background-color: rgba(0,0,0,0.2)">
                                <i class="fas fa-camera fs-2 text-white cursor-pointer" onclick="document.getElementById('profileAvatarInput').click();"></i>
                            </div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="profileName" class="form-label">Display Name</label>
                        <input type="text" class="form-control text-uppercase" id="editProfileName" placeholder="Enter your display name">
                    </div>
                    <div class="mb-3">
                        <label for="profileHandle" class="form-label">Handle</label>
                        <input type="text" class="form-control text-lowercase" id="editProfileHandle" placeholder="Enter your handle">
                    </div>
                    <div id="socialLinks" class="mb-3">
                        <label class="form-label">Social Links</label>
                        <div id="socialLinksContainer">
                            <div class="input-group mb-2">
                                <span class="input-group-text"><i class="fab fa-x-twitter"></i></span>
                                <input type="text" class="form-control" id="editSocialTwitter" placeholder="X username">
                            </div>
                            <div class="input-group mb-2">
                                <span class="input-group-text"><i class="fab fa-discord"></i></span>
                                <input type="text" class="form-control" id="editSocialDiscord" placeholder="Discord User ID">
                            </div>
                            <!-- Add more social fields as needed -->
                        </div>
                    </div>
                    <div id="discoverabilityToggle" class="mb-3">
                        <div><label class="form-label">Discoverability</label>: <span id="discoverabilityStatus" class="text-muted "></span></div>
                        <div class="btn-group btnDiscoverability" role="group" aria-label="Basic radio toggle button group">
                            <input type="radio" class="btn-check" name="btnDiscoverability" id="btnPrivate" autocomplete="off" >
                            <label class="btn btn-outline-primary" for="btnPrivate">Private</label>
                          
                            <input type="radio" class="btn-check" name="btnDiscoverability" id="btnDiscoverable" autocomplete="off" >
                            <label class="btn btn-outline-primary" for="btnDiscoverable">Visible</label>
                        </div>
                        
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="saveProfileChanges">Save Changes</button>
            </div>
        </div>
    </div>
</div>

  